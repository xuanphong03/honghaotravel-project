import React from 'react';
import PropTypes from 'prop-types';
import Image from 'next/image';
import { cn } from '@/lib/utils';

function FeedbackItem({ avatar, author, createdDate, vote, content }) {
  return (
    <article className="relative flex flex-col gap-y-[1rem] rounded-[1.5rem] bg-white/10 px-[1rem] py-[1.5rem]">
      <div className="absolute top-[1.5rem] right-[1.5rem] flex size-[2.5rem] items-center justify-center rounded-full bg-[#33e0a0] p-[0.4rem]">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="28"
          height="18"
          viewBox="0 0 28 18"
          fill="none"
          className="h-[1.08431rem] w-[1.68563rem] shrink-0"
        >
          <g clipPath="url(#clip0_11266_3176)">
            <path
              d="M11.9931 15.5762C9.29039 18.0782 5.12182 17.9035 2.63152 15.3751C1.29219 14.0151 0.631282 12.368 0.667421 10.4603C0.70356 8.54755 1.4904 6.95527 2.84014 5.61276C2.1086 4.81634 1.38965 4.03362 0.671254 3.2509L0.684396 3.22077C0.732033 3.22077 0.779671 3.22077 0.827309 3.22077C2.35117 3.22077 3.87448 3.22077 5.39833 3.22296C5.51058 3.22296 5.60367 3.19832 5.69894 3.13478C7.46482 1.9533 9.39497 1.1777 11.4866 0.806332C12.6978 0.591617 13.9184 0.523698 15.1454 0.606406C17.8794 0.790995 20.3883 1.64218 22.6689 3.1649C22.7253 3.2027 22.8074 3.21803 22.8775 3.21803C24.4096 3.22077 25.9417 3.22023 27.4732 3.22023C27.5181 3.22023 27.5635 3.22023 27.6084 3.22023L27.6287 3.24816C26.9136 4.02705 26.1985 4.80594 25.4735 5.59578C25.5255 5.65439 25.5732 5.71026 25.6219 5.76448C26.2472 6.46011 26.7865 7.20997 27.1441 8.08416C28.4703 11.3268 27.0204 15.1319 23.8719 16.6667C22.7675 17.2051 21.6039 17.4363 20.3823 17.3432C18.8541 17.2271 17.5158 16.6486 16.3703 15.6282C16.3523 15.6123 16.3331 15.5975 16.3052 15.5751C15.589 16.354 14.8766 17.1296 14.1489 17.9216C13.4283 17.1378 12.7148 16.3605 11.9931 15.5762ZM20.8855 15.1632C23.4103 15.155 25.4417 13.1195 25.4363 10.6038C25.4308 8.08636 23.3878 6.05643 20.8669 6.06355C18.347 6.07067 16.3293 8.11484 16.3353 10.6536C16.3413 13.1338 18.3968 15.1708 20.8855 15.1632ZM7.39857 15.1632C9.8938 15.1697 11.9526 13.1404 11.9619 10.6651C11.9712 8.11922 9.95512 6.07615 7.42923 6.06245C4.90553 6.04821 2.86587 8.11319 2.85985 10.6049C2.85383 13.113 4.88637 15.1566 7.39857 15.1632ZM19.1662 3.78604C15.814 2.46982 12.4799 2.46927 9.13159 3.78604C11.8951 5.0097 13.7634 6.92241 14.1489 9.89719C14.5366 6.9235 16.4015 5.01189 19.1662 3.78604Z"
              fill="#1D1D1D"
            />
            <path
              d="M20.8959 8.20898C22.226 8.21501 23.2899 9.29461 23.2838 10.6333C23.2778 11.9468 22.1904 13.0209 20.8746 13.0127C19.538 13.0039 18.4817 11.9249 18.4883 10.5747C18.4943 9.26941 19.5796 8.20351 20.8959 8.20953V8.20898Z"
              fill="#1A1A1A"
            />
            <path
              d="M7.40655 8.20903C8.71413 8.20136 9.80213 9.27493 9.80979 10.5813C9.81801 11.9194 8.7541 13.0056 7.42791 13.0133C6.1072 13.0209 5.02193 11.9545 5.01372 10.6404C5.00551 9.29465 6.06558 8.21669 7.40601 8.20903H7.40655Z"
              fill="#1A1A1A"
            />
          </g>
          <defs>
            <clipPath id="clip0_11266_3176">
              <rect
                width="26.97"
                height="17.3491"
                fill="white"
                transform="translate(0.666016 0.572266)"
              />
            </clipPath>
          </defs>
        </svg>
      </div>
      <div className="flex items-center gap-x-[1.25rem]">
        <div className="size-[3rem] shrink-0 overflow-hidden rounded-full">
          <Image
            width={50}
            height={50}
            alt={author}
            src={avatar}
            className="h-full w-full object-cover"
          />
        </div>

        <div className="leading-[1.2] text-[#f1f1f1]">
          <h4 className="m:text-[1.75rem] mb-[0.375rem] text-[1.25rem] font-bold">
            {author}
          </h4>
          <p className="text-[0.875rem] tracking-[0.00875rem]">{createdDate}</p>
        </div>
      </div>
      <div className="flex items-center gap-[0.25rem]">
        {[...Array(5)].map((_, index) => (
          <svg
            key={index}
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
          >
            <path
              d="M8.94868 2.84605C8.64478 1.93435 7.35522 1.93435 7.05132 2.84605L6.22792 5.31623C6.09181 5.72457 5.70967 6 5.27924 6H2.85078C1.9055 6 1.48795 7.19036 2.22609 7.78087L4.45551 9.56441C4.78266 9.82613 4.91199 10.264 4.7795 10.6615L4.07082 12.7875C3.7557 13.7329 4.86606 14.5072 5.6442 13.8846L7.3753 12.4998C7.74052 12.2076 8.25948 12.2076 8.6247 12.4998L10.3558 13.8846C11.1339 14.5072 12.2443 13.7329 11.9292 12.7875L11.2205 10.6615C11.088 10.264 11.2173 9.82613 11.5445 9.56441L13.7739 7.78087C14.5121 7.19036 14.0945 6 13.1492 6H10.7208C10.2903 6 9.90819 5.72457 9.77208 5.31623L8.94868 2.84605Z"
              className={cn(index < vote ? 'fill-[#E64827]' : 'fill-gray-500')}
            />
          </svg>
        ))}
      </div>
      <p className="custom_scrollbar_v2 h-[5.3125rem] w-full overflow-y-auto text-[0.875rem] leading-[1.2] tracking-[0.00875rem] lg:w-[20.625rem]">
        {content}
      </p>
    </article>
  );
}

FeedbackItem.propTypes = {
  avatar: PropTypes.string,
  author: PropTypes.string,
  createdDate: PropTypes.string,
  vote: PropTypes.number,
  content: PropTypes.string,
};

export default FeedbackItem;
